@model IEnumerable<NovoControleProjetos.Models.ViewModel.ListaDeProjetosModelView>
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">

            @using (Html.BeginForm("PesquisaPorDepartamento", "Iniciativa", FormMethod.Post, new { @class = "navbar-form navbar-left", role = "form" }))
            {
                <div class="navbar-form navbar-left"></div>
                <div class="form-group">
                    <div class="form-group">
                        <label for="nomeProjeto">Nome do departamento</label>
                        <input type="text" name="Nome" class="form-control" value="@ViewBag.nomeDepartamento" />
                    </div>
                </div>
                <button type="submit" class="btn btn-info">Buscar</button>
            }

        </div>
    </nav>
    <div class="panel panel-info">
        <div class="panel-heading">
            <h3 class="panel-title"><strong>Total de Projetos: </strong>@Model.Count(obj => obj.IdIniciativa > 0)</h3>
        </div>
    </div>
    <div class=" panel-body">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.IdIniciativa)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.NomeIniciativa)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.NomeDepartamento)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DtAprovacao)
                    </th>
                    <th></th>
                </tr>
            </thead>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdIniciativa)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NomeIniciativa)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NomeDepartamento)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DtAprovacao)
                    </td>
                    <td>
                        <div class="btn-group">
                            @Html.ActionLink("Editar", "EditaIniciativa", "Iniciativa", new { id = item.IdIniciativa }, new { @class = "btn btn-info" })
                            @Html.ActionLink("Detalhes", "DetalheProjeto", "Iniciativa", new { id = item.IdIniciativa }, new { @class = "btn btn-info" })
                            @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ }, new { @class = "btn btn-info disabled" })
                        </div>
                    </td>
                </tr>
            }

        </table>
    </div>
</body>
